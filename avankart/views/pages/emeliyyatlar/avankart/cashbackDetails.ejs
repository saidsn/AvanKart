<div>
    <div
        class="flex items-center gap-3 text-[13px] text-messages dark:text-primary-text-color-dark font-medium">
        <div class="flex items-center gap-2">
            <a href="../dashboard/dashboard.htm"
                class="cursor-pointer hover:text-primary dark:hover:text-primary-dark">Avankart</a>
            <div class="icon stratis-slash-01-forward"></div>
        </div>
        <div class="flex items-center gap-2">
            <a href="#"
                class="cursor-pointer hover:text-primary dark:hover:text-primary-dark">Avankart</a>
            <div class="icon stratis-slash-01-forward"></div>
        </div>
        <div class="flex items-center gap-2">
            <a href="#" class="text-tertiary-text dark:text-tertiary-text-color-dark">Kəşbek</a>
        </div>
    </div>

    <div class="bg-sidebar-bg my-3 px-3 rounded-lg h-[69px]">
        <div class="flex gap-3 text-message w-full">
            <div class="border-r-[0.5px] border-[#0000001A] max-w-[273px] w-full py-3">
                <p class="text-[11px] opacity-65 pb-[6px]">İnvoys nömrəsi</p>
                <p class="text-[13px] font-medium" id="detail-invoice"><%= data.invoice %></p>
            </div>
            <div class="border-r-[0.5px] border-[#0000001A] max-w-[273px] w-full py-3">
                <p class="text-[11px] opacity-65 pb-[6px]">İstifadəçi sayı</p>
                <p class="text-[13px] font-medium" id="detail-customers"><%= data.customers %></p>
            </div>
            <div class="border-r-[0.5px] border-[#0000001A] max-w-[273px] w-full py-3">
                <p class="text-[11px] opacity-65 pb-[6px]">Tranzaksiya sayı</p>
                <p class="text-[13px] font-medium" id="detail-transactions"><%= data.transactions %></p>
            </div>
            <div class="border-r-[0.5px] border-[#0000001A] max-w-[273px] w-full py-3">
                <p class="text-[11px] opacity-65 pb-[6px]">Məbləğ</p>
                <p class="text-[13px] font-medium" id="detail-amount"><%= data.amount %> ₼</p>
            </div>
            <div class="border-r-[0.5px] border-[#0000001A] max-w-[273px] w-full py-3">
                <p class="text-[11px] opacity-65 pb-[6px]">Hesablaşma tarixi</p>
                <p class="text-[13px] font-medium" id="detail-date"><%= data.date %></p>
            </div>
            <div class="flex items-center justify-start bg-container-2 dark:bg-container-2-dark px-3 py-[5px] rounded-full max-w-[273px] w-full whitespace-nowrap overflow-hidden text-ellipsis"
                id="detail-status">
                <div class="flex items-center gap-2">
                    <span
                        style="width:6px; height:6px; border-radius:50%; background-color: #BFC8CC; flex-shrink:0;"></span>
                    <span class="text-[13px] font-medium text-ellipsis"><%= data.status %></span>
                </div>
            </div>
        </div>
    </div>

    <div class="flex flex-col gap-3">
        <div
            class="pb-3 flex items-center justify-between border-b-[.5px] border-stroke dark:border-[#FFFFFF1A] mt-[15px]">
            <div onclick="window.location.href='/emeliyyatlar/avankart/cashback'"
                class="flex gap-[14px] items-center cursor-pointer">
                <div class="icon stratis-arrow-left-sm !w-[11px] !h-[11px] text-messages"></div>
                <div id="header-data-count" class="text-[15px] font-medium">Kəşbek ()</div>
            </div>
            <div class="flex items-center gap-2">
                <div
                    class="relative flex items-center w-[237px] border border-surface-variant dark:border-surface-variant-dark rounded-full overflow-hidden focus-within:border-focus focus-within:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] focus-within:ring-0 focus-within:outline-none active:border-focus active:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] transition-all ease-out duration-300 hover:bg-input-hover dark:hover:bg-input-hover-dark">
                    <input id="customSearch" type="text" placeholder="Search..."
                        class="w-full h-full bg-transparent border-none focus:outline-none outline-none ring-0 focus:ring-0 text-[13px] text-messages dark:text-primary-text-color-dark placeholder:text-on-surface-variant-dark dark:placeholder:text-[#636B6F]">
                    <div class="absolute right-3">
                        <div class="icon stratis-search-02 dark:text-primary-text-color-dark"></div>
                    </div>
                </div>

           <div id="refreshButton"
                    class="w-[155px] border border-surface-variant dark:border-surface-variant-dark rounded-full flex items-center justify-center gap-2 text-[13px] text-messages dark:text-primary-text-color-dark hover:text-focus dark:hover:text-focus-color-dark font-medium py-[6.5px] px-[18px]">
                    <a href="#" class="font-medium text-[13px]">Səhifəni yenilə</a>
                    <a href="#"
                        class="icon stratis-arrow-refresh-04 text-messages dark:text-primary-text-color-dark"></a>
                </div>
                <div onclick="openFilterModal()"
                    class="w-[103px] cursor-pointer border border-surface-variant dark:border-surface-variant-dark rounded-full flex items-center justify-center gap-2 text-[13px] text-messages dark:text-primary-text-color-dark hover:text-focus dark:hover:text-focus-color-dark font-medium py-[6.5px] px-[18px]">
                    <a href="#"
                        class="icon stratis-filter  text-messages dark:text-primary-text-color-dark mt-[2.5px]"></a>
                    <a href="#" class="">Filterlə</a>
                </div>
            </div>
        </div>

        <table id="myTable" class="table-fixed w-full border-collapse">
            <thead class="border-none pb-0.5">
                <tr
                    class="bg-container-2 dark:bg-container-2-dark border-none text-[12px] text-secondary-text dark:text-secondary-text-color-dark font-normal">
                    <th
                        class="border-r-[.5px] border-r-stroke dark:border-[#FFFFFF1A] px-4 py-2 rounded-l-lg filtering">
                        İstifadəçi</th>
                    <th
                        class="border-r-[.5px] border-r-stroke dark:border-[#FFFFFF1A] px-4 py-2 filtering text-left">
                        Tranzaksiya ID</th>
                    <th
                        class="border-r-[.5px] border-r-stroke dark:border-[#FFFFFF1A] px-4 py-2 filtering text-left">
                        Kart kateqoriyası</th>
                    <th
                        class="border-r-[.5px] border-r-stroke dark:border-[#FFFFFF1A] px-4 py-2 filtering">
                        Məbləğ (AZN)</th>
                    <th
                        class="border-r-[.5px] border-r-stroke dark:border-[#FFFFFF1A] px-4 py-2 filtering">
                        Hesablaşma tarixi</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
    <div class="pt-2">
        <div class="bg-sidebar-bg dark:bg-side-bar-bg-dark rounded-t-[8px] px-6 flex flex-col gap-3">
            <div class="py-5 flex items-center justify-between">
                <div class="text-[13px] flex items-center gap-2">
                    <span class="font-normal opacity-65">Səhifə sayı:</span>
                    <span id="pageCount" class="font-medium">1 / 49</span>
                </div>
                <div class="flex items-center gap-5">
                    <div>
                        <div id="customPagination" class="flex items-center"></div>
                    </div>
                    <div>
                        <input class="page-input w-[63px] h-[32px] text-[12px] text-center text-messages dark:text-primary-text-color-dark placeholder:text-on-surface-variant-dark dark:text-[#636B6F] font-normal bg-menu dark:bg-menu-dark hover:bg-input-hover dark:hover:bg-input-hover-dark border border-stroke dark:border-[#FFFFFF1A] rounded-[8px]
        focus:border-focus focus:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] focus:ring-0 focus:outline-none
        active:border-focus active:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)]
        transition-all ease-out duration-300" type="text" placeholder="Səhifə" />
                        <a href="#"
                            class="go-button text-[13px] text-body-bg dark:text-primary-text-color-dark font-medium bg-primary dark:bg-primary-dark hover:bg-hover-button dark:hover:bg-hover-button-dark rounded-[8px] py-[6.5px] px-[18px]">GO</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="filterPop" class="hidden fixed inset-0 bg-[#0000002A] flex items-center justify-center z-100">
        <div
            class="w-[450px] font-poppins dark:bg-menu-dark text-messages dark:text-primary-text-color-dark border-[#0000001A] dark:border-[#FFFFFF1A] border-[3px] shadow-[0px_0px_30px_0px_rgba(0,0,0,0.05)] rounded-2xl bg-white z-101 fixed top-[50%] left-[50%] transform -translate-y-1/2 -translate-x-1/2 p-6">
            <form onsubmit="return false;" data-url="/hesablashmalar/datatable" id="filterForm">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <div>
                    <div class="flex items-center justify-between">
                        <div class="text-[15px] font-medium">
                            Filter
                        </div>
                        <div onclick="openFilterModal()" class="icon stratis-x-02 text-xs cursor-pointer dark:hidden">
                        </div>
                    </div>
                </div>
                <div class="flex flex-col justify-between gap-2">
                    <div>
                        <span class="text-[12px] font-medium opacity-65 dark:text-white">Tarix
                            aralığı</span>
                        <div class="flex items-center gap-3">
                            <div class="w-1/2">
                                <div onclick="openDatePicker('startDate')" class="relative w-[195px] group">
                                    <input id="startDate" type="date"
                                        class="date-input py-[6.5px] text-[12px] font-medium text-messages placeholder-outline border border-stroke rounded-full px-3 w-full appearance-none
           hover:bg-input-hover focus:border-focus focus:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] focus:ring-0 focus:outline-none
           active:border-focus active:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] transition-all ease-out duration-300 cursor-pointer"
                                        placeholder="dd/mm/yyyy" name="start_date">
                                    <div
                                        class="icon stratis-calendar-02 absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-messages group-focus-within:text-focus cursor-pointer">
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 mt-1.5">
                                    <div class="icon stratis-information-circle-contained w-3 h-3 opacity-50">
                                    </div>
                                    <div class="text-[11px] font-normal opacity-50">
                                        Başlanğıc tarixini
                                        qeyd edin</div>
                                </div>
                            </div>
                            <div class="w-1/2">
                                <!-- <div class="relative w-full">
                  <input id="endDate" type="date" class="date-input cursor-pointer text-[13px] font-normal placeholder-[#BFC8CC] dark:placeholder-[#636B6F] bg-menu hover:bg-input-hover border border-stroke rounded-full px-3 py-[6.5px] w-full appearance-none
                        focus:border-focus focus:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] focus:ring-0 focus:outline-none
                        active:border-focus active:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)]
                        transition-all ease-out duration-300" placeholder="dd/mm/yyyy" name="start_date">
                  <div
                    class="cursor-pointer text-messages icon stratis-calendar-02 absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 group-focus:text-focus">
                  </div>
                </div> -->
                                <div onclick="openDatePicker('endDate')" class="relative w-[195px] group">
                                    <input id="endDate" type="date"
                                        class="date-input py-[6.5px] text-[12px] font-medium text-messages placeholder-outline border border-stroke rounded-full px-3 w-full appearance-none
           hover:bg-input-hover focus:border-focus focus:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] focus:ring-0 focus:outline-none
           active:border-focus active:shadow-[0px_0px_0px_2.5px_var(--color-button-disabled)] transition-all ease-out duration-300 cursor-pointer"
                                        placeholder="dd/mm/yyyy" name="end_date">
                                    <div
                                        class="icon stratis-calendar-02 absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-messages group-focus-within:text-focus cursor-pointer">
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 mt-1.5">
                                    <div class="icon stratis-information-circle-contained w-3 h-3 opacity-50">
                                    </div>
                                    <div class="text-[11px] font-normal opacity-50">
                                        Son tarixi qeyd edin
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <span class="text-[12px] font-medium opacity-65">Kart kateqoriyası</span>
                        <div class="mt-[6px]">
                            <div class="flex items-center flex-wrap gap-4">
                                <label for="cbx-yemək"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-yemək" class="peer hidden" name="card_category"
                                        value="yemək">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Yemək kartı</div>
                                </label>
                                <label for="cbx-yanacaq"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-yanacaq" class="peer hidden" name="card_category"
                                        value="yanacaq">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Yanacaq kartı</div>
                                </label>
                                <label for="cbx-hediyye"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-hediyye" class="peer hidden" name="card_category"
                                        value="hədiyyə">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Hədiyyə kartı</div>
                                </label>
                                <label for="cbx-market"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-market" class="peer hidden" name="card_category"
                                        value="market">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Market kartı</div>
                                </label>
                                <label for="cbx-biznes"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-biznes" class="peer hidden" name="card_category"
                                        value="biznes">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Biznes kartı</div>
                                </label>
                                <label for="cbx-premium"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-premium" class="peer hidden" name="card_category"
                                        value="premium">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Premium kartı</div>
                                </label>
                                <label for="cbx-avto-yuma"
                                    class="flex items-center gap-2 cursor-pointer select-none text-[13px] font-normal">
                                    <input type="checkbox" id="cbx-avto-yuma" class="peer hidden" name="card_category"
                                        value="avto_yuma">
                                    <div
                                        class="bg-menu border border-surface-variant rounded-[2px] w-[18px] h-[18px] flex items-center justify-center text-on-primary 
                           peer-checked:bg-primary peer-checked:text-on-primary peer-checked:border-primary transition">
                                        <div class="icon stratis-check-01 scale-60 h-[18px] w-[18px] text-center">
                                        </div>
                                    </div>
                                    <div>Avto Yuma kartı</div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <span class="text-[12px] font-medium opacity-65">Məbləğ aralığı</span>
                        <div class="value-container mt-2">
                            <span id="min-value" class="value-label text-[13px] text-messages font-medium"></span>
                            <span id="max-value" class="value-label text-[13px] text-messages font-medium"></span>
                        </div>
                        <div id="slider-range" class="mt-2"></div>
                        <div class="flex items-center justify-between text-[11px] opacity-50 font-medium mt-2 ">
                            <span>Min</span>
                            <span>Max</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-end gap-3">
                    <button type="button"
                        class="bg-surface rounded-[50px] dark:bg-surface-bright-dark dark:text-on-surface-variant-dark text-on-surface-variant text-[13px] font-medium px-[18px] py-[6.5px] cursor-pointer hover:text-messages"
                        onclick="openFilterModal()">Bağla</button>
                    <button type="reset" onclick="clearFilters()"
                        class="bg-surface rounded-[50px] dark:bg-surface-bright-dark dark:text-on-surface-variant-dark text-on-surface-variant text-[13px] font-medium px-[18px] py-[6.5px] cursor-pointer hover:text-messages">Filterləri
                        təmizlə</button>
                    <button onclick="applyFilters()" type="button"
                        class="bg-primary rounded-[50px] text-white text-[13px] font-medium px-[18px] py-[6.5px] cursor-pointer hover:bg-hover-button">Filterlə</button>
                </div>
            </form>
        </div>
    </div>
    <% styles = `<link rel="stylesheet" href="/css/jquery-ui.css">`; %>
<% scripts = `
  <!-- Datatables və jQuery UI -->
  <script src="/js/datatables/datatables.min.js"></script>
  <script src="/js/jquery-ui.js"></script>

  <!-- Avankart funksiyaları -->
  <script src="/js/Avankart/kesbek/kesbekDetailsTable.js"></script>
  <script src="/js/Avankart/kesbek/openDatePicker.js"></script>
`; %>
